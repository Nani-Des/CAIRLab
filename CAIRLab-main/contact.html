<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact - CAIRLab | Cybersecurity and AI Research</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Favicon -->
    <link href="img/favicon.ico" rel="icon" />

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Josefin+Sans:wght@300;700&family=Work+Sans:wght@400;600&display=swap"
      rel="stylesheet"
    />

    <!-- Icon Font Stylesheet -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css"
      rel="stylesheet"
    />

    <!-- AOS (Animate on Scroll) -->
    <link
      href="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.css"
      rel="stylesheet"
    />

    <!-- Leaflet CSS for Map -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />

    <style>
      :root {
        --primary: #00957c;
        --primary-dark: #007a63;
        --secondary: #26a0a2;
        --bg-primary: #ffffff;
        --bg-secondary: #f8f9fa;
        --text-primary: #333333;
        --text-secondary: #666666;
        --accent: #0056b3;
      }

      [data-theme="dark"] {
        --bg-primary: #0a1929;
        --bg-secondary: #091314;
        --bg-tertiary: #132f4c;
        --text-primary: #e3f2fd;
        --text-secondary: #bbdefb;
        --accent-color: #64ffda;
        --header-bg: rgba(10, 25, 47, 0.95);
        --card-bg: rgba(19, 47, 76, 0.8);
        --shadow-color: rgba(0, 0, 0, 0.3);
        --particle-color: rgba(100, 255, 218, 0.8);
        --radar-color: #64ffda;
      }
      [data-theme="dark"].text-muted {
        --bs-text-opacity: 1;
        color: white !important;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Work Sans", sans-serif;
        background-color: var(--bg-primary);
        color: var(--text-primary);
        transition: all 0.3s ease;
        overflow-x: hidden;
      }

      h1,
      h2,
      h3,
      h4,
      h5,
      h6 {
        font-family: "Josefin Sans", sans-serif;
        font-weight: 700;
      }

      /* Header & Navigation */
      header {
        background: transparent;
        backdrop-filter: blur(10px);
        box-shadow: 0 2px 10px var(--shadow-color);

        position: sticky !important;
        top: 0;
        z-index: 1000;
        transition: background 0.5s ease, box-shadow 0.3s ease;
      }

      .navbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 1rem 0;
        overflow: visible !important;
      }

      .logo {
        height: 50px;
        font-size: 1.8rem;
        font-weight: 700;
        color: var(--accent-color);
        display: flex;
        align-items: center;
        gap: 0.5rem;
        transition: color 0.3s ease;
      }

      .logo-img {
        height: 60px !important;
        width: 60px !important;
        transition: all 0.3s ease;
      }

      .logo-text {
        font-size: 1.8rem;
        font-weight: 700;
        color: #26a0a2;
      }

      /* Mobile adjustments */
      @media (max-width: 768px) {
        .logo-img {
          height: 35px;
        }

        .logo-text {
          font-size: 1.5rem;
        }
      }

      @media (max-width: 576px) {
        .logo-img {
          height: 30px;
        }

        .logo-text {
          font-size: 1.3rem;
        }
      }

      .nav-links {
        display: flex;
        list-style: none;
        gap: 2rem;
        align-items: center;
        margin: 0;
        overflow: visible !important;
      }

      .nav-links a {
        text-decoration: none;
        color: var(--text-primary);
        font-weight: 600;
        transition: color 0.3s ease;
        position: relative;
      }

      .nav-links a.active {
        color: #74075a !important;
        font-weight: 700;
        background-color: transparent;
        padding: 5px;
        border-radius: 5px;
        border-bottom: 3px solid #199c95;
        font-size: 1.3rem;
      }

      .nav-links a:hover {
        color: var(--primary);
      }

      .nav-links a::after {
        content: "";
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 0;
        height: 2px;
        background: var(--primary);
        transition: width 0.3s ease;
      }

      .nav-links a:hover::after {
        width: 100%;
      }

      .btn-involved {
        background: var(--primary);
        color: white;
        border: none;
        padding: 0.5rem 1.5rem;
        border-radius: 25px;
        font-weight: 600;
        transition: all 0.3s ease;
        cursor: pointer;
      }

      .btn-involved:hover {
        background: var(--primary-dark);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 149, 124, 0.3);
      }

      .nav-controls {
        display: flex;
        align-items: center;
        gap: 1rem;
      }

      .mobile-nav-toggle {
        display: none;
        flex-direction: column;
        background: none;
        border: none;
        cursor: pointer;
        padding: 5px;
      }

      .mobile-nav-toggle span {
        width: 25px;
        height: 3px;
        background: var(--text-primary);
        margin: 3px 0;
        transition: 0.3s;
        border-radius: 2px;
      }

      .cosmic-toggle {
        width: 70px !important; /* Reduced from 140px */
        height: 35px !important; /* Reduced from 70px */
        transform: scale(0.7); /* Scale everything down */
        transform-origin: center;
      }

      .toggle {
        opacity: 0;
        width: 0;
        height: 0;
      }

      .slider {
        position: absolute;
        cursor: pointer;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(45deg, #1a1a2e, #16213e);
        border-radius: 35px;
        transition: 0.5s;
        transform-style: preserve-3d;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.5),
          inset 0 0 15px rgba(255, 255, 255, 0.05);
        overflow: hidden;
      }

      .cosmos {
        position: absolute;
        inset: 0;
        background: radial-gradient(1px 1px at 10% 10%, #fff 100%, transparent),
          radial-gradient(1px 1px at 20% 20%, #fff 100%, transparent),
          radial-gradient(2px 2px at 30% 30%, #fff 100%, transparent),
          radial-gradient(1px 1px at 40% 40%, #fff 100%, transparent),
          radial-gradient(2px 2px at 50% 50%, #fff 100%, transparent),
          radial-gradient(1px 1px at 60% 60%, #fff 100%, transparent),
          radial-gradient(2px 2px at 70% 70%, #fff 100%, transparent),
          radial-gradient(1px 1px at 80% 80%, #fff 100%, transparent),
          radial-gradient(1px 1px at 90% 90%, #fff 100%, transparent);
        background-size: 200% 200%;
        opacity: 0.1;
        transition: 0.5s;
      }

      .toggle-orb {
        height: 31px !important; /* Reduced from 62px */
        width: 31px !important; /* Reduced from 62px */
        left: 2px !important; /* Reduced from 4px */
        bottom: 2px !important;
        bottom: 4px;
        background: linear-gradient(145deg, #ff6b6b, #4ecdc4);
        border-radius: 50%;
        transition: 0.6s cubic-bezier(0.68, -0.55, 0.265, 1.55);
        transform-style: preserve-3d;
        z-index: 2;
      }

      .inner-orb {
        position: absolute;
        inset: 5px;
        border-radius: 50%;
        background: linear-gradient(145deg, #fff, #e6e6e6);
        transition: 0.5s;
        overflow: hidden;
      }

      .inner-orb::before {
        content: "";
        position: absolute;
        inset: 0;
        background: repeating-conic-gradient(
          from 0deg,
          transparent 0deg,
          rgba(0, 0, 0, 0.1) 10deg,
          transparent 20deg
        );
        animation: patternRotate 10s linear infinite;
      }

      .ring {
        position: absolute;
        inset: -3px;
        border: 2px solid rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        transition: 0.5s;
      }

      .toggle:checked + .slider {
        background: linear-gradient(45deg, #16213e, #1a1a2e);
      }

      .toggle:checked + .slider .toggle-orb {
        transform: translateX(35px) rotate(360deg);
        background: linear-gradient(145deg, #4ecdc4, #45b7af);
      }

      .toggle:checked + .slider .inner-orb {
        background: linear-gradient(145deg, #45b7af, #3da89f);
        transform: scale(0.9);
      }

      .toggle:checked + .slider .ring {
        border-color: rgba(78, 205, 196, 0.3);
        animation: ringPulse 2s infinite;
      }

      .energy-line {
        position: absolute;
        width: 100%;
        height: 2px;
        background: linear-gradient(
          90deg,
          transparent,
          rgba(78, 205, 196, 0.5),
          transparent
        );
        transform-origin: left;
        opacity: 0;
        transition: 0.5s;
      }

      .energy-line:nth-child(1) {
        top: 20%;
        transform: rotate(15deg);
      }
      .energy-line:nth-child(2) {
        top: 50%;
        transform: rotate(0deg);
      }
      .energy-line:nth-child(3) {
        top: 80%;
        transform: rotate(-15deg);
      }

      .toggle:checked + .slider .energy-line {
        opacity: 1;
        animation: energyFlow 2s linear infinite;
      }

      .particles {
        position: absolute;
        width: 100%;
        height: 100%;
      }

      .particle {
        position: absolute;
        width: 2px;
        height: 2px;
        background: #4ecdc4;
        border-radius: 50%;
        opacity: 0;
      }

      .toggle:checked + .slider .particle {
        animation: particleBurst 1s ease-out infinite;
      }

      .particle:nth-child(1) {
        left: 20%;
        animation-delay: 0s;
      }
      .particle:nth-child(2) {
        left: 40%;
        animation-delay: 0.2s;
      }
      .particle:nth-child(3) {
        left: 60%;
        animation-delay: 0.4s;
      }
      .particle:nth-child(4) {
        left: 80%;
        animation-delay: 0.6s;
      }
      .particle:nth-child(5) {
        left: 30%;
        animation-delay: 0.8s;
      }
      .particle:nth-child(6) {
        left: 70%;
        animation-delay: 1s;
      }

      /* Анимации */
      @keyframes ringPulse {
        0%,
        100% {
          transform: scale(1);
          opacity: 0.3;
        }
        50% {
          transform: scale(1.1);
          opacity: 0.6;
        }
      }

      @keyframes patternRotate {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      @keyframes energyFlow {
        0% {
          transform: scaleX(0) translateX(0);
          opacity: 0;
        }
        50% {
          transform: scaleX(1) translateX(50%);
          opacity: 1;
        }
        100% {
          transform: scaleX(0) translateX(100%);
          opacity: 0;
        }
      }

      @keyframes particleBurst {
        0% {
          transform: translate(0, 0) scale(1);
          opacity: 1;
        }
        100% {
          transform: translate(
              calc(cos(var(--angle)) * 50px),
              calc(sin(var(--angle)) * 50px)
            )
            scale(0);
          opacity: 0;
        }
      }

      /* Hover эффекты */
      .slider:hover .toggle-orb {
        filter: brightness(1.2);
        box-shadow: 0 0 20px rgba(78, 205, 196, 0.5),
          0 0 40px rgba(78, 205, 196, 0.3);
      }

      .slider:hover .cosmos {
        opacity: 0.2;
        animation: cosmosPan 20s linear infinite;
      }

      @keyframes cosmosPan {
        0% {
          background-position: 0% 0%;
        }
        100% {
          background-position: 200% 200%;
        }
      }

      /* Активное состояние */
      .toggle:active + .slider .toggle-orb {
        transform: scale(0.95);
      }

      /* 3D эффект при наведении */
      .cosmic-toggle:hover .slider {
        transform: rotateX(10deg) rotateY(10deg);
      }

      .cosmic-toggle:hover .toggle-orb {
        transform: translateZ(10px);
      }

      /* Тень */
      .toggle:checked + .slider::after {
        content: "";
        position: absolute;
        inset: 0;
        background: radial-gradient(
          circle at var(--x) var(--y),
          rgba(78, 205, 196, 0.2),
          transparent 50%
        );
        opacity: 0;
        animation: glowFollow 2s linear infinite;
      }

      @keyframes glowFollow {
        0%,
        100% {
          opacity: 0.2;
        }
        50% {
          opacity: 0.5;
        }
      }

      /* Contact Hero Section */
      .contact-hero {
        background: linear-gradient(rgba(0, 0, 0, 0.6), rgba(0, 149, 124, 0.3)),
          url("https://plus.unsplash.com/premium_photo-1682309572625-791e25352998?q=80&w=1212&auto=format&fit=crop&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D");
        padding: 8rem 0 4rem;
        position: relative;
        overflow: hidden;
        color: white;
        background-attachment: fixed;
        min-height: 70vh;
        display: flex;
        align-items: center;
      }

      .hero-bg-elements {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 1;
      }

      .floating-shape {
        position: absolute;
        border-radius: 50%;
        background: rgba(0, 149, 124, 0.1);
        animation: float 8s ease-in-out infinite;
      }

      .shape-1 {
        width: 120px;
        height: 120px;
        top: 10%;
        left: 5%;
        animation-delay: 0s;
      }

      .shape-2 {
        width: 80px;
        height: 80px;
        top: 60%;
        right: 10%;
        animation-delay: 2s;
      }

      .shape-3 {
        width: 150px;
        height: 150px;
        bottom: 20%;
        left: 15%;
        animation-delay: 4s;
      }

      .network-grid {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-image: linear-gradient(
            90deg,
            transparent 99%,
            rgba(0, 149, 124, 0.05) 99%
          ),
          linear-gradient(0deg, transparent 99%, rgba(0, 149, 124, 0.05) 99%);
        background-size: 50px 50px;
        animation: gridMove 20s linear infinite;
      }

      @keyframes float {
        0%,
        100% {
          transform: translateY(0) rotate(0deg);
        }
        50% {
          transform: translateY(-20px) rotate(180deg);
        }
      }

      @keyframes gridMove {
        0% {
          background-position: 0 0;
        }
        100% {
          background-position: 50px 50px;
        }
      }

      .hero-content {
        position: relative;
        z-index: 2;
        text-align: center;
      }

      .hero-badge {
        display: inline-block;
        background: rgba(122, 0, 75, 0.1);
        color: white;
        padding: 8px 20px;
        border-radius: 25px;
        font-size: 0.9rem;
        font-weight: 600;
        margin-bottom: 1.5rem;
        border: 1px solid rgba(0, 149, 124, 0.2);
      }

      .hero-title {
        font-size: 3.5rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        background: white;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
      }

      .hero-subtitle {
        font-size: 1.2rem;
        color: #cfcfcf;
        max-width: 600px;
        margin: 0 auto 2rem;
        line-height: 1.6;
      }

      /* Contact Main Section */
      .contact-main {
        padding: 6rem 0;
        background: var(--bg-secondary);
      }

      .contact-container {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 4rem;
        align-items: start;
      }

      .contact-info {
        background: var(--bg-primary);
        border-radius: 20px;
        padding: 3rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(0, 149, 124, 0.1);
      }

      .contact-info h2 {
        margin-bottom: 2rem;
        color: var(--text-primary);
      }

      .contact-methods {
        display: flex;
        flex-direction: column;
        gap: 2rem;
      }

      .contact-method {
        display: flex;
        align-items: flex-start;
        gap: 1.5rem;
        padding: 1.5rem;
        border-radius: 15px;
        background: rgba(0, 149, 124, 0.05);
        transition: all 0.3s ease;
        border: 1px solid transparent;
      }

      .contact-method:hover {
        background: rgba(0, 149, 124, 0.1);
        border-color: rgba(0, 149, 124, 0.2);
        transform: translateY(-5px);
      }

      .method-icon {
        width: 60px;
        height: 60px;
        background: var(--primary);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.5rem;
        flex-shrink: 0;
      }

      .method-content h4 {
        margin-bottom: 0.5rem;
        color: var(--text-primary);
      }

      .method-content p {
        color: var(--text-secondary);
        margin-bottom: 0.5rem;
      }

      .method-link {
        color: var(--primary);
        text-decoration: none;
        font-weight: 600;
        transition: color 0.3s ease;
      }

      .method-link:hover {
        color: var(--primary-dark);
      }

      .social-links {
        display: flex;
        gap: 1rem;
        margin-top: 1rem;
      }

      .social-link {
        width: 45px;
        height: 45px;
        background: rgba(0, 149, 124, 0.1);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--primary);
        text-decoration: none;
        transition: all 0.3s ease;
      }

      .social-link:hover {
        background: var(--primary);
        color: white;
        transform: translateY(-3px);
      }

      /* Contact Form */
      .contact-form {
        background: var(--bg-primary);
        border-radius: 20px;
        padding: 3rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(0, 149, 124, 0.1);
      }

      .contact-form h2 {
        margin-bottom: 2rem;
        color: var(--text-primary);
      }

      .form-group {
        margin-bottom: 1.5rem;
      }

      .form-label {
        display: block;
        margin-bottom: 0.5rem;
        font-weight: 600;
        color: var(--text-primary);
      }

      .form-control {
        width: 100%;
        padding: 0.75rem 1rem;
        border: 2px solid rgba(0, 149, 124, 0.2);
        border-radius: 10px;
        background: var(--bg-primary);
        color: var(--text-primary);
        transition: all 0.3s ease;
        font-family: "Work Sans", sans-serif;
      }

      .form-control:focus {
        outline: none;
        border-color: var(--primary);
        box-shadow: 0 0 0 3px rgba(0, 149, 124, 0.1);
      }

      textarea.form-control {
        min-height: 120px;
        resize: vertical;
      }

      .btn-submit {
        background: var(--primary);
        color: white;
        border: none;
        padding: 0.75rem 2rem;
        border-radius: 25px;
        font-weight: 600;
        font-size: 1rem;
        transition: all 0.3s ease;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
      }

      .btn-submit:hover {
        background: var(--primary-dark);
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(0, 149, 124, 0.3);
      }

      /* Map Section */
      .map-section {
        padding: 6rem 0;
        background: var(--bg-primary);
      }

      .map-container {
        border-radius: 20px;
        overflow: hidden;
        box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
        border: 1px solid rgba(0, 149, 124, 0.1);
        height: 500px;
      }

      #contactMap {
        width: 100%;
        height: 100%;
      }

      /* FAQ Section */
      .faq-section {
        padding: 6rem 0;
        background: var(--bg-secondary);
      }

      .faq-container {
        max-width: 800px;
        margin: 0 auto;
      }

      .faq-item {
        background: var(--bg-primary);
        border-radius: 15px;
        margin-bottom: 1.5rem;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        border: 1px solid rgba(0, 149, 124, 0.1);
        overflow: hidden;
      }

      .faq-question {
        padding: 1.5rem 2rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: pointer;
        transition: all 0.3s ease;
      }

      .faq-question:hover {
        background: rgba(0, 149, 124, 0.05);
      }

      .faq-question h4 {
        margin: 0;
        color: var(--text-primary);
      }

      .faq-icon {
        color: var(--primary);
        transition: transform 0.3s ease;
      }

      .faq-answer {
        padding: 0 2rem;
        max-height: 0;
        overflow: hidden;
        transition: all 0.3s ease;
        color: var(--text-secondary);
      }

      .faq-item.active .faq-answer {
        padding: 0 2rem 1.5rem;
        max-height: 500px;
      }

      .faq-item.active .faq-icon {
        transform: rotate(180deg);
      }

      /* CTA Section */
      .cta-section {
        padding: 6rem 0;
        background: linear-gradient(
          135deg,
          var(--primary) 0%,
          var(--secondary) 100%
        );
        color: white;
        text-align: center;
        position: relative;
        overflow: hidden;
      }

      .cta-bg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        opacity: 0.1;
        background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="white" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');
      }

      .cta-content {
        position: relative;
        z-index: 2;
      }

      .cta-title {
        font-size: 2.5rem;
        margin-bottom: 1rem;
      }

      .cta-text {
        font-size: 1.2rem;
        margin-bottom: 2rem;
        opacity: 0.9;
        max-width: 600px;
        margin-left: auto;
        margin-right: auto;
      }

      .btn-cta {
        background: white;
        color: var(--primary);
        border: none;
        padding: 0.8rem 2.5rem;
        border-radius: 30px;
        font-weight: 600;
        font-size: 1.1rem;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-block;
      }

      .btn-cta-2 {
        background: #036252ff;
        color: #ffffff;
        border: none;
        padding: 0.8rem 2.5rem;
        border-radius: 30px;
        font-weight: 600;
        font-size: 1.1rem;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-block;
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      }

      .btn-cta-2:hover {
        background: #023b36ff;
        color: #ffffff;
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      }

      .btn-cta:hover {
        transform: translateY(-3px);
        box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        color: var(--primary-dark);
      }

      /* Footer */

      /*** Footer ***/
      @keyframes footerAnimatedBg {
        0% {
          background-position: 0 0;
        }

        100% {
          background-position: -1000px 0;
        }
      }

      .footer {
        background-image: url(https://demo.htmlcodex.com/2716/laboratory-html-website-template/img/footer.png);
        background-position: 0px 0px;
        background-repeat: repeat-x;
        animation: footerAnimatedBg 50s linear infinite;
        background-color: #0e1b20 !important;
      }

      .footer-about {
        margin-bottom: 2rem;
      }

      .footer-links h4,
      .footer-newsletter h4 {
        margin-bottom: 1.5rem;
        color: var(--text-primary);
      }

      .footer-links a {
        color: var(--text-secondary);
        text-decoration: none;
        margin-bottom: 0.5rem;
        display: block;
        transition: color 0.3s ease;
      }

      .footer-links a:hover {
        color: white !important;
        transform: scale(0.95);
      }

      .copyright {
        border-top: 1px solid rgba(0, 149, 124, 0.1);
        padding-top: 2rem;
        margin-top: 2rem;
        color: var(--text-secondary);
      }

      /* Responsive Design */
      /* Mobile Navigation Fixes */
      @media (max-width: 768px) {
        .nav-links {
          display: none;
          position: fixed;
          top: 70px;
          left: 0;
          width: 100%;
          background: var(--bg-primary);
          flex-direction: column;
          padding: 2rem 0;
          box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
          z-index: 999;
          gap: 1rem;
        }

        .nav-links.active {
          display: flex;
        }

        .nav-links li {
          width: 100%;
          text-align: center;
        }

        .nav-links a {
          display: block;
          padding: 1rem 2rem;
          width: 100%;
          border-bottom: 1px solid rgba(0, 149, 124, 0.1);
        }

        .nav-links a::after {
          display: none;
        }
        /* Active Navigation Link Styles */

        .nav-links a.active::after {
          width: 100%;
        }

        /* Optional: Add background color for active link */
        .nav-links a.active {
          position: relative;
        }

        .nav-links a.active::before {
          content: "";
          position: absolute;
          top: -2px;
          left: -10px;
          right: -10px;
          bottom: -2px;
          background: rgba(0, 149, 124, 0.1);
          border-radius: 8px;
          z-index: -1;
        }

        /* For mobile view */
        @media (max-width: 768px) {
          .nav-links a.active {
            background: rgba(0, 149, 124, 0.1);
            border-radius: 8px;
            margin: 0 1rem;
          }

          .nav-links a.active::before {
            display: none;
          }
        }
        .btn-involved {
          margin: 1rem auto;
          display: block;
          width: 200px;
        }

        .mobile-nav-toggle {
          display: flex;
          z-index: 1000;
        }

        .mobile-nav-toggle.active span:nth-child(1) {
          transform: rotate(45deg) translate(6px, 6px);
        }

        .mobile-nav-toggle.active span:nth-child(2) {
          opacity: 0;
        }

        .mobile-nav-toggle.active span:nth-child(3) {
          transform: rotate(-45deg) translate(6px, -6px);
        }
      }
      /* Dark theme adjustments */
      [data-theme="dark"] .contact-info,
      [data-theme="dark"] .contact-form,
      [data-theme="dark"] .faq-item {
        background: var(--bg-secondary);
        border-color: rgba(255, 255, 255, 0.1);
      }

      [data-theme="dark"] .floating-shape {
        background: rgba(0, 149, 124, 0.05);
      }

      [data-theme="dark"] .network-grid {
        background-image: linear-gradient(
            90deg,
            transparent 99%,
            rgba(0, 149, 124, 0.03) 99%
          ),
          linear-gradient(0deg, transparent 99%, rgba(0, 149, 124, 0.03) 99%);
      }

      [data-theme="dark"] .form-control {
        background: var(--bg-secondary);
        border-color: rgba(255, 255, 255, 0.2);
        color: var(--text-primary);
      }
      /* Global fixes to prevent horizontal scrolling */
      * {
        max-width: 100%;
        box-sizing: border-box;
      }

      html,
      body {
        overflow-x: hidden;
        width: 100%;
        position: relative;
      }

      /* Container fixes */
      .container,
      .container-fluid,
      .container-xxl {
        max-width: 100%;
        overflow-x: hidden;
      }

      /* Specific element fixes that often cause horizontal scroll */
      .row {
        margin-left: 0;
        margin-right: 0;
      }

      .col,
      .col-1,
      .col-2,
      .col-3,
      .col-4,
      .col-5,
      .col-6,
      .col-7,
      .col-8,
      .col-9,
      .col-10,
      .col-11,
      .col-12,
      .col-auto,
      .col-lg,
      .col-lg-1,
      .col-lg-2,
      .col-lg-3,
      .col-lg-4,
      .col-lg-5,
      .col-lg-6,
      .col-lg-7,
      .col-lg-8,
      .col-lg-9,
      .col-lg-10,
      .col-lg-11,
      .col-lg-12,
      .col-lg-auto,
      .col-md,
      .col-md-1,
      .col-md-2,
      .col-md-3,
      .col-md-4,
      .col-md-5,
      .col-md-6,
      .col-md-7,
      .col-md-8,
      .col-md-9,
      .col-md-10,
      .col-md-11,
      .col-md-12,
      .col-md-auto,
      .col-sm,
      .col-sm-1,
      .col-sm-2,
      .col-sm-3,
      .col-sm-4,
      .col-sm-5,
      .col-sm-6,
      .col-sm-7,
      .col-sm-8,
      .col-sm-9,
      .col-sm-10,
      .col-sm-11,
      .col-sm-12,
      .col-sm-auto,
      .col-xl,
      .col-xl-1,
      .col-xl-2,
      .col-xl-3,
      .col-xl-4,
      .col-xl-5,
      .col-xl-6,
      .col-xl-7,
      .col-xl-8,
      .col-xl-9,
      .col-xl-10,
      .col-xl-11,
      .col-xl-12,
      .col-xl-auto {
        padding-left: 15px;
        padding-right: 15px;
      }

      .hero-bg-elements,
      .floating-shape {
        max-width: 100vw;
        left: 0;
        right: 0;
      }

      .floating-shape {
        /* Keep shapes within viewport */
        left: 5%;
        right: auto;
      }

      .floating-shape.shape-2 {
        right: 5%;
        left: auto;
      }

      .network-grid {
        width: 100vw;
        left: 50%;
        transform: translateX(-50%);
      }

      .lab-card,
      .contact-info,
      .mv-card,
      .value-card,
      .lab-mini-card,
      .faq-item {
        max-width: 100%;
        margin-left: auto;
        margin-right: auto;
      }

      .map-container {
        max-width: 100%;
        margin-left: 0;
        margin-right: 0;
      }

      img {
        max-width: 100%;
        height: auto;
      }

      .contact-container {
        grid-template-columns: 1fr;
        width: 100%;
      }

      @media (min-width: 992px) {
        .contact-container {
          grid-template-columns: 1fr 1fr;
        }
      }

      section {
        overflow: hidden;
      }

      .back-to-top {
        position: fixed;
        bottom: 30px;
        right: 30px;
        width: 50px;
        height: 50px;
        background: var(--primary);
        color: white;
        border: none;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        box-shadow: 0 4px 15px rgba(0, 149, 124, 0.3);
        transition: all 0.3s ease;
        opacity: 0;
        visibility: hidden;
        z-index: 999;
        transform: translateY(20px);
        overflow: hidden;
      }

      .back-to-top .progress-circle {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        transform: rotate(-90deg);
      }

      .back-to-top .progress-circle-background {
        fill: none;
        stroke: rgba(255, 255, 255, 0.2);
        stroke-width: 2;
      }

      .back-to-top .progress-circle-fill {
        fill: none;
        stroke: red;
        stroke-width: 6;
        stroke-dasharray: 138.16; /* 2 * π * 22 */
        stroke-dashoffset: 138.16;
        transition: stroke-dashoffset 0.3s ease;
      }

      .back-to-top.visible {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
      }

      .back-to-top:hover {
        background: var(--primary-dark);
        transform: translateY(-3px);
        box-shadow: 0 6px 20px rgba(0, 149, 124, 0.4);
      }

      .back-to-top:hover .progress-circle-fill {
        stroke: rgba(255, 255, 255, 0.8);
      }

      /* Responsive design for advanced version */
      @media (max-width: 768px) {
        .back-to-top {
          bottom: 20px;
          right: 20px;
          width: 45px;
          height: 45px;
          font-size: 1.1rem;
        }

        .back-to-top .progress-circle {
          width: 45px;
          height: 45px;
        }
      }
    </style>
  </head>
  <body data-theme="light">
    <header>
      <div class="container">
        <nav class="navbar">
          <div class="logo">
            <img
              src="https://www.brianknows.org/brian_logo.png"
              alt="CAIRLab Logo"
              class="logo-img"
            />
            <span class="logo-text">CAIRLab</span>
          </div>

          <ul class="nav-links ms-auto" id="navLinks">
            <li><a href="index.html">Home</a></li>
            <li><a href="About.html">About</a></li>
            <li><a href="Themes.html">Themes</a></li>
            <li><a href="Projects.html">Projects</a></li>
            <li><a href="Contact.html">Contact</a></li>
            <li><a href="Scholarships.html">Apply For Scholarship</a></li>
            <li>
              <button
                class="btn-involved"
                onclick="window.location.href='Contact.html'"
              >
                Get Involved
              </button>
            </li>
          </ul>
          <div class="nav-controls">
            <button
              class="mobile-nav-toggle"
              id="mobileNavToggle"
              aria-label="Toggle Navigation"
            >
              <span></span>
              <span></span>
              <span></span>
            </button>

            <label class="cosmic-toggle">
              <input class="toggle" type="checkbox" />
              <div class="slider">
                <div class="cosmos"></div>
                <div class="energy-line"></div>
                <div class="energy-line"></div>
                <div class="energy-line"></div>
                <div class="toggle-orb">
                  <div class="inner-orb"></div>
                  <div class="ring"></div>
                </div>
                <div class="particles">
                  <div style="--angle: 30deg" class="particle"></div>
                  <div style="--angle: 60deg" class="particle"></div>
                  <div style="--angle: 90deg" class="particle"></div>
                  <div style="--angle: 120deg" class="particle"></div>
                  <div style="--angle: 150deg" class="particle"></div>
                  <div style="--angle: 180deg" class="particle"></div>
                </div>
              </div>
            </label>
          </div>
        </nav>
      </div>
    </header>

    <!-- Contact Hero Section -->
    <section class="contact-hero">
      <div class="hero-bg-elements">
        <div class="floating-shape shape-1"></div>
        <div class="floating-shape shape-2"></div>
        <div class="floating-shape shape-3"></div>
        <div class="network-grid"></div>
      </div>
      <div class="container">
        <div class="hero-content">
          <div class="hero-badge" data-aos="fade-up" data-aos-delay="100">
            GET IN TOUCH
          </div>
          <h1 class="hero-title" data-aos="fade-up" data-aos-delay="200">
            Let's Connect & Collaborate
          </h1>
          <p class="hero-subtitle" data-aos="fade-up" data-aos-delay="300">
            Ready to discuss AI research, cybersecurity challenges, or potential
            collaborations? We're here to listen and explore opportunities
            together.
          </p>
        </div>
      </div>
    </section>

    <!-- Contact Main Section -->
    <section class="contact-main">
      <div class="container">
        <div class="contact-container">
          <!-- Contact Information -->
          <div class="contact-info" data-aos="fade-right" data-aos-delay="100">
            <h2>Contact Information</h2>
            <div class="contact-methods">
              <!-- Address -->
              <div class="contact-method">
                <div class="method-icon">
                  <i class="fas fa-map-marker-alt"></i>
                </div>
                <div class="method-content">
                  <h4>Visit Our Lab</h4>
                  <p>Ghana-Kumasi</p>
                  <p>KNUST, College of Science.</p>
                  <a href="#map" class="method-link">View on Map →</a>
                </div>
              </div>

              <!-- Phone -->
              <div class="contact-method">
                <div class="method-icon">
                  <i class="fas fa-phone"></i>
                </div>
                <div class="method-content">
                  <h4>Call Us</h4>
                  <p>+233 54 404 3688</p>
                  <p>Mon - Fri, 9:00 AM - 6:00 PM</p>
                  <a href="tel:+233544043688" class="method-link">Call Now →</a>
                </div>
              </div>

              <!-- Email -->
              <div class="contact-method">
                <div class="method-icon">
                  <i class="fas fa-envelope"></i>
                </div>
                <div class="method-content">
                  <h4>Email Us</h4>
                  <p>info@cairlab.org</p>
                  <p>research@cairlab.org</p>
                  <a href="mailto:info@cairlab.org" class="method-link"
                    >Send Email →</a
                  >
                </div>
              </div>

              <!-- Social Media -->
              <div class="contact-method">
                <div class="method-icon">
                  <i class="fas fa-share-alt"></i>
                </div>
                <div class="method-content">
                  <h4>Follow Us</h4>
                  <p>Stay updated with our latest research and news</p>
                  <div class="social-links">
                    <a href="#" class="social-link">
                      <i class="fab fa-twitter"></i>
                    </a>
                    <a href="#" class="social-link">
                      <i class="fab fa-linkedin-in"></i>
                    </a>
                    <a href="#" class="social-link">
                      <i class="fab fa-github"></i>
                    </a>
                    <a href="#" class="social-link">
                      <i class="fab fa-youtube"></i>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Contact Form -->
          <div class="contact-form" data-aos="fade-left" data-aos-delay="200">
            <h2>Send Us a Message</h2>
            <form id="contactForm">
              <div class="form-group">
                <label for="name" class="form-label">Full Name</label>
                <input
                  type="text"
                  id="name"
                  class="form-control"
                  placeholder="Enter your full name"
                  required
                />
              </div>

              <div class="form-group">
                <label for="email" class="form-label">Email Address</label>
                <input
                  type="email"
                  id="email"
                  class="form-control"
                  placeholder="Enter your email address"
                  required
                />
              </div>

              <div class="form-group">
                <label for="subject" class="form-label">Subject</label>
                <select id="subject" class="form-control" required>
                  <option value="">Select a subject</option>
                  <option value="research">Research Collaboration</option>
                  <option value="partnership">Partnership Opportunity</option>
                  <option value="career">Career Opportunities</option>
                  <option value="internship">Internship Program</option>
                  <option value="media">Media Inquiry</option>
                  <option value="other">Other</option>
                </select>
              </div>

              <div class="form-group">
                <label for="message" class="form-label">Message</label>
                <textarea
                  id="message"
                  class="form-control"
                  placeholder="Tell us about your inquiry..."
                  required
                ></textarea>
              </div>

              <button type="submit" class="btn-submit">
                <i class="fas fa-paper-plane"></i> Send Message
              </button>
            </form>
          </div>
        </div>
      </div>
    </section>

    <!-- Map Section -->
    <section class="map-section" id="map">
      <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
          <h5 class="text-primary mb-2">Find Us</h5>
          <h2 class="display-5 mb-4">Visit Our Research Facility</h2>
          <p class="lead">
            Located in the heart of the innovation district, our lab is easily
            accessible and welcoming to visitors
          </p>
        </div>

        <div class="map-container" data-aos="fade-up" data-aos-delay="200">
          <div id="contactMap"></div>
        </div>

        <div class="row mt-4">
          <div class="col-md-4" data-aos="fade-up" data-aos-delay="300">
            <div class="text-center p-3">
              <i class="fas fa-bus fa-2x text-primary mb-3"></i>
              <h5>Public Transport</h5>
              <p class="text-muted">
                Trotros and buses available from Tech Junction
              </p>
            </div>
          </div>
          <div class="col-md-4" data-aos="fade-up" data-aos-delay="400">
            <div class="text-center p-3">
              <i class="fas fa-car fa-2x text-primary mb-3"></i>
              <h5>Campus Access</h5>
              <p class="text-muted">
                Visitor access through main university gates
              </p>
            </div>
          </div>
          <div class="col-md-4" data-aos="fade-up" data-aos-delay="500">
            <div class="text-center p-3">
              <i class="fas fa-map-signs fa-2x text-primary mb-3"></i>
              <h5>Campus Directions</h5>
              <p class="text-muted">Located in the College of Science</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section">
      <div class="container">
        <div class="text-center mb-5" data-aos="fade-up">
          <h5 class="text-primary mb-2">Common Questions</h5>
          <h2 class="display-5 mb-4">Frequently Asked Questions</h2>
          <p class="lead">
            Quick answers to common inquiries about collaborating with CAIRLab
          </p>
        </div>

        <div class="faq-container">
          <!-- FAQ Item 1 -->
          <div class="faq-item" data-aos="fade-up" data-aos-delay="100">
            <div class="faq-question">
              <h4>How can I collaborate with CAIRLab on research projects?</h4>
              <i class="fas fa-chevron-down faq-icon"></i>
            </div>
            <div class="faq-answer">
              <p>
                We welcome research collaborations from academic institutions,
                industry partners, and individual researchers. The best way to
                start is by sending us a detailed proposal outlining your
                research interests, potential collaboration areas, and how our
                expertise aligns with your goals. Our team reviews all proposals
                and will schedule an introductory meeting if there's mutual
                interest.
              </p>
            </div>
          </div>

          <!-- FAQ Item 2 -->
          <div class="faq-item" data-aos="fade-up" data-aos-delay="200">
            <div class="faq-question">
              <h4>Do you offer internship opportunities for students?</h4>
              <i class="fas fa-chevron-down faq-icon"></i>
            </div>
            <div class="faq-answer">
              <p>
                Yes, we offer internship programs for undergraduate and graduate
                students interested in AI and cybersecurity research. Our
                internships typically last 3-6 months and provide hands-on
                experience with cutting-edge research projects. Applications are
                accepted year-round, but we recommend applying at least 2 months
                before your desired start date.
              </p>
            </div>
          </div>

          <!-- FAQ Item 3 -->
          <div class="faq-item" data-aos="fade-up" data-aos-delay="300">
            <div class="faq-question">
              <h4>Can industry partners access your research findings?</h4>
              <i class="fas fa-chevron-down faq-icon"></i>
            </div>
            <div class="faq-answer">
              <p>
                We maintain a balance between open research and proprietary
                partnerships. Many of our research findings are published in
                academic journals and conferences. For industry partners, we
                offer various collaboration models including sponsored research,
                licensing agreements, and joint development projects that
                provide access to specific technologies and expertise.
              </p>
            </div>
          </div>

          <!-- FAQ Item 4 -->
          <div class="faq-item" data-aos="fade-up" data-aos-delay="400">
            <div class="faq-question">
              <h4>How do I schedule a lab tour or visit?</h4>
              <i class="fas fa-chevron-down faq-icon"></i>
            </div>
            <div class="faq-answer">
              <p>
                Lab tours are available by appointment for serious
                collaborators, potential partners, and academic visitors. Please
                contact us through the form above or email visits@cairlab.org
                with your requested dates, purpose of visit, and any specific
                labs or researchers you'd like to meet. We typically require at
                least 2 weeks' notice to arrange a comprehensive tour.
              </p>
            </div>
          </div>

          <!-- FAQ Item 5 -->
          <div class="faq-item" data-aos="fade-up" data-aos-delay="500">
            <div class="faq-question">
              <h4>What types of research partnerships do you offer?</h4>
              <i class="fas fa-chevron-down faq-icon"></i>
            </div>
            <div class="faq-answer">
              <p>
                We offer several partnership models: 1) Sponsored research for
                specific projects, 2) Joint research initiatives with shared
                resources, 3) Technology licensing for commercial applications,
                4) Student exchange programs, and 5) Consulting services for
                specialized AI and cybersecurity challenges. The specific terms
                and arrangements are customized based on the partner's needs and
                project scope.
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
      <div class="cta-bg"></div>
      <div class="container">
        <div class="cta-content" data-aos="fade-up">
          <h2 class="cta-title">Ready to Start a Conversation?</h2>
          <p class="cta-text">
            Whether you're interested in research collaboration, internship
            opportunities, or just want to learn more about our work, we'd love
            to hear from you.
          </p>
          <div class="d-flex justify-content-center gap-3 flex-wrap">
            <a href="#contactForm" class="btn-cta">Get Involved</a>
            <a href="Scholarships.html" class="btn-cta-2"
              >Apply for Scholarship</a
            >
          </div>
        </div>
      </div>
    </section>

    <!-- Footer -->
    <footer class="footer bg-dark text-white py-5">
      <div class="container py-5">
        <div class="row g-5">
          <div class="col-lg-4 col-md-6">
            <div class="footer-about">
              <div class="d-flex align-items-center mb-3">
                <img
                  src="https://www.brianknows.org/brian_logo.png"
                  alt="CAIRLab Logo"
                  class="logo-img me-2"
                />
                <h4 class="text-white m-0">CAIRLab</h4>
              </div>
              <p class="mb-4">
                Advancing AI for Cybersecurity Innovation through cutting-edge
                research and development.
              </p>
              <div class="d-flex pt-2">
                <a href="#" class="btn btn-outline-light btn-square me-2"
                  ><i class="fab fa-twitter"></i
                ></a>
                <a href="#" class="btn btn-outline-light btn-square me-2"
                  ><i class="fab fa-facebook-f"></i
                ></a>
                <a href="#" class="btn btn-outline-light btn-square me-2"
                  ><i class="fab fa-linkedin-in"></i
                ></a>
                <a href="#" class="btn btn-outline-light btn-square"
                  ><i class="fab fa-instagram"></i
                ></a>
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-md-6">
            <div class="footer-links">
              <h4 class="text-white mb-4">Quick Links</h4>
              <div class="d-flex flex-column">
                <a href="index.html" class="text-white-50 mb-2"
                  ><i class="fa fa-angle-right me-2"></i>Home</a
                >
                <a href="About.html" class="text-white-50 mb-2"
                  ><i class="fa fa-angle-right me-2"></i>About</a
                >
                <a href="Themes.html" class="text-white-50 mb-2"
                  ><i class="fa fa-angle-right me-2"></i>Themes</a
                >
                <a href="Project.html" class="text-white-50 mb-2"
                  ><i class="fa fa-angle-right me-2"></i>Projects</a
                >
                <a href="Contact.html" class="text-white-50 mb-2"
                  ><i class="fa fa-angle-right me-2"></i>Contact</a
                >
                <a href="Scholarships.html" class="text-white-50"
                  ><i class="fa fa-angle-right me-2"></i>Apply For
                  Scholarship</a
                >
              </div>
            </div>
          </div>
          <div class="col-lg-4 col-md-6">
            <div class="footer-newsletter">
              <h4 class="text-white mb-4">Newsletter</h4>
              <p class="text-white-50 mb-4">
                Subscribe to our newsletter for the latest research updates and
                news.
              </p>
              <div class="position-relative">
                <input
                  type="text"
                  class="form-control border-0 w-100 py-3 ps-4 pe-5"
                  placeholder="Your email"
                />
                <button
                  type="button"
                  class="btn btn-primary py-2 px-3 position-absolute top-0 end-0 mt-2 me-2"
                >
                  Sign Up
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="container">
        <div class="copyright">
          <div class="row">
            <div class="col-md-6 text-center text-md-start">
              <p class="mb-0">
                &copy; <span id="currentYear"></span> CAIRLab. All Rights
                Reserved.
              </p>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <!-- Leaflet JS for Map -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/aos@2.3.4/dist/aos.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>

    <script>
      // Initialize AOS
      AOS.init({
        duration: 1000,
        once: false,
        mirror: false,
      });

      // Mobile navigation toggle
      const mobileNavToggle = document.getElementById("mobileNavToggle");
      const navLinks = document.getElementById("navLinks");

      if (mobileNavToggle && navLinks) {
        mobileNavToggle.addEventListener("click", () => {
          mobileNavToggle.classList.toggle("active");
          navLinks.classList.toggle("active");
        });

        // Close mobile menu when clicking on a link
        const navItems = document.querySelectorAll(".nav-links a");
        navItems.forEach((item) => {
          item.addEventListener("click", () => {
            mobileNavToggle.classList.remove("active");
            navLinks.classList.remove("active");
          });
        });
      }

      // Theme toggle functionality
      const themeToggle = document.querySelector(".cosmic-toggle .toggle");
      const body = document.body;

      if (themeToggle) {
        // Check for saved theme preference or default to light
        const currentTheme = localStorage.getItem("theme") || "light";
        body.setAttribute("data-theme", currentTheme);

        // Set initial checkbox state
        if (currentTheme === "dark") {
          themeToggle.checked = true;
        }

        themeToggle.addEventListener("change", () => {
          const newTheme = themeToggle.checked ? "dark" : "light";
          body.setAttribute("data-theme", newTheme);
          localStorage.setItem("theme", newTheme);
        });
      }

      // Set current year in footer
      const currentYearElement = document.getElementById("currentYear");
      if (currentYearElement) {
        currentYearElement.textContent = new Date().getFullYear();
      }

      // Initialize Map
      // Initialize Map for KNUST Location
      function initMap() {
        // KNUST coordinates (Kwame Nkrumah University of Science and Technology)
        const knustLocation = [6.6735, -1.5684]; // KNUST main campus coordinates

        // Create map
        const map = L.map("contactMap").setView(knustLocation, 15);

        // Add tile layer
        L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
          attribution: "© OpenStreetMap contributors",
        }).addTo(map);

        // Custom icon for KNUST
        const knustIcon = L.divIcon({
          html: '<i class="fas fa-university" style="color: #00957c; font-size: 24px;"></i>',
          iconSize: [30, 30],
          className: "knust-marker",
        });

        // Add KNUST marker
        L.marker(knustLocation, { icon: knustIcon })
          .addTo(map)
          .bindPopup(
            `
                  <div style="text-align: center;">
                      <h4 style="margin: 0 0 5px 0; color: #00957c;">CAIRLab at KNUST</h4>
                      <p style="margin: 0;">Kwame Nkrumah University of Science and Technology<br>
                      Kumasi, Ghana</p>
                      <small style="color: #666;">Main Campus</small>
                  </div>
              `
          )
          .openPopup();

        // Add additional markers for important locations around KNUST
        const importantLocations = [
          {
            coords: [6.673, -1.567],
            title: "College of Engineering",
            icon: "fas fa-cogs",
          },
          {
            coords: [6.674, -1.569],
            title: "Great Hall",
            icon: "fas fa-landmark",
          },
          {
            coords: [6.672, -1.57],
            title: "University Library",
            icon: "fas fa-book",
          },
        ];

        // Add markers for important locations
        importantLocations.forEach((location) => {
          const locationIcon = L.divIcon({
            html: `<i class="${location.icon}" style="color: #26a0a2; font-size: 18px;"></i>`,
            iconSize: [25, 25],
            className: "location-marker",
          });

          L.marker(location.coords, { icon: locationIcon }).addTo(map)
            .bindPopup(`
                      <div style="text-align: center;">
                          <h5 style="margin: 0 0 5px 0; color: #26a0a2;">${location.title}</h5>
                          <small style="color: #666;">KNUST Campus</small>
                      </div>
                  `);
        });

        // Alternative map tile providers for Ghana
        const mapTiles = [
          {
            name: "OpenStreetMap",
            url: "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
            attribution: "© OpenStreetMap contributors",
          },
          {
            name: "Satellite",
            url: "https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",
            attribution: "Tiles &copy; Esri",
          },
        ];

        // Use the first tile provider
        L.tileLayer(mapTiles[0].url, {
          attribution: mapTiles[0].attribution,
        }).addTo(map);
      }

      // FAQ functionality
      const faqItems = document.querySelectorAll(".faq-item");
      faqItems.forEach((item) => {
        const question = item.querySelector(".faq-question");
        if (question) {
          question.addEventListener("click", () => {
            // Close all other FAQ items
            faqItems.forEach((otherItem) => {
              if (otherItem !== item) {
                otherItem.classList.remove("active");
              }
            });

            // Toggle current item
            item.classList.toggle("active");
          });
        }
      });

      // Contact form submission
      const contactForm = document.getElementById("contactForm");
      if (contactForm) {
        contactForm.addEventListener("submit", function (e) {
          e.preventDefault();

          // Get form data
          const name = document.getElementById("name").value;
          const email = document.getElementById("email").value;

          if (name && email) {
            alert(
              `Thank you, ${name}! Your message has been sent. We'll get back to you at ${email} soon.`
            );
            contactForm.reset();
          }
        });
      }

      // Initialize map when page loads
      document.addEventListener("DOMContentLoaded", function () {
        initMap();

        // Mobile-specific improvements
        function setViewport() {
          const viewport = document.querySelector('meta[name="viewport"]');
          if (window.innerWidth <= 768) {
            viewport.setAttribute(
              "content",
              "width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
            );
          } else {
            viewport.setAttribute(
              "content",
              "width=device-width, initial-scale=1.0"
            );
          }
        }

        // Set viewport on load and resize
        setViewport();
        window.addEventListener("resize", setViewport);

        // Close mobile menu when clicking outside
        document.addEventListener("click", function (e) {
          const navLinks = document.getElementById("navLinks");
          const mobileToggle = document.getElementById("mobileNavToggle");

          if (
            navLinks &&
            navLinks.classList.contains("active") &&
            !navLinks.contains(e.target) &&
            mobileToggle &&
            !mobileToggle.contains(e.target)
          ) {
            navLinks.classList.remove("active");
            mobileToggle.classList.remove("active");
          }
        });

        // Prevent zoom on double-tap (iOS)
        let lastTouchEnd = 0;
        document.addEventListener(
          "touchend",
          function (event) {
            const now = new Date().getTime();
            if (now - lastTouchEnd <= 300) {
              event.preventDefault();
            }
            lastTouchEnd = now;
          },
          false
        );

        // Improve form focus on mobile
        const formInputs = document.querySelectorAll("input, textarea, select");
        formInputs.forEach((input) => {
          input.addEventListener("focus", function () {
            // Scroll to input on focus for better mobile experience
            setTimeout(() => {
              this.scrollIntoView({ behavior: "smooth", block: "center" });
            }, 300);
          });
        });
      });
    </script>

    <script>
      // Advanced Back to Top Button with Progress
      function initBackToTop() {
        const backToTopButton = document.getElementById("backToTop");
        const progressFill = document.querySelector(".progress-circle-fill");
        const circumference = 138.16; // 2 * π * 22

        // Show/hide button and update progress
        function toggleBackToTop() {
          const scrollTop = window.pageYOffset;
          const docHeight =
            document.documentElement.scrollHeight - window.innerHeight;
          const scrollProgress = (scrollTop / docHeight) * 100;

          if (scrollTop > 300) {
            backToTopButton.classList.add("visible");
            // Update progress circle
            const offset =
              circumference - (scrollProgress / 100) * circumference;
            progressFill.style.strokeDashoffset = offset;
          } else {
            backToTopButton.classList.remove("visible");
            progressFill.style.strokeDashoffset = circumference;
          }
        }

        // Scroll to top function
        function scrollToTop() {
          backToTopButton.classList.add("bounce");

          window.scrollTo({
            top: 0,
            behavior: "smooth",
          });

          setTimeout(() => {
            backToTopButton.classList.remove("bounce");
          }, 1000);
        }

        // Event listeners
        window.addEventListener("scroll", toggleBackToTop);
        backToTopButton.addEventListener("click", scrollToTop);

        // Initial check
        toggleBackToTop();
      }

      document.addEventListener("DOMContentLoaded", initBackToTop);
    </script>

    <script>
      // Set active navigation link based on current page
      function setActiveNavLink() {
        const currentPage =
          window.location.pathname.split("/").pop() || "index.html";
        const navLinks = document.querySelectorAll(".nav-links a");

        navLinks.forEach((link) => {
          const linkHref = link.getAttribute("href");
          // Remove active class from all links
          link.classList.remove("active");

          // Check if this link matches current page
          if (linkHref === currentPage) {
            link.classList.add("active");
          }

          // Special case for index.html (home page)
          if (
            currentPage === "" ||
            (currentPage === "index.html" && linkHref === "index.html")
          ) {
            link.classList.add("active");
          }
        });
      }

      // Call when page loads
      document.addEventListener("DOMContentLoaded", setActiveNavLink);
    </script>

    <!-- Advanced Back to Top Button with Progress -->
    <button id="backToTop" class="back-to-top" aria-label="Back to top">
      <svg class="progress-circle" width="50" height="50">
        <circle
          class="progress-circle-background"
          cx="25"
          cy="25"
          r="22"
        ></circle>
        <circle class="progress-circle-fill" cx="25" cy="25" r="22"></circle>
      </svg>
      <i class="fas fa-chevron-up"></i>
    </button>
  </body>
</html>
